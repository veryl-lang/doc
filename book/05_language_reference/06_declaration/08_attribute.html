<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head prefix="og: http://ogp.me/ns#">
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Attribute - The Veryl Hardware Description Language</title>


        <!-- Custom HTML head -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-NXW2P6CCF3"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
        
            gtag('config', 'G-NXW2P6CCF3');
        </script>
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
                    let base = "https://doc.veryl-lang.org/book";
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/05_language_reference/06_declaration/08_attribute.md`;
                    } else {
                        canonical_href = `${base}/${lang}/05_language_reference/06_declaration/08_attribute.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("en");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
                const langs = ["en", "ja"];
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        
        <meta property="og:url" content="https://github.com/veryl-lang/veryl" />
        <meta property="og:title" content="Veryl: A Modern Hardware Description Language" />
        <meta property="og:description" content="Veryl is a hardware description language which is designed as a SystemVerilog alternative." />
        <meta property="og:image" content="https://github.com/veryl-lang/veryl/raw/master/support/logo/veryl_ogp.png" />

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/css/language-picker.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Veryl Hardware Description Language</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="attribute"><a class="header" href="#attribute">Attribute</a></h1>
<p>Attribute can annotate some declarations like variable declaration.</p>
<h2 id="sv-attribute"><a class="header" href="#sv-attribute"><code>sv</code> Attribute</a></h2>
<p><code>sv</code> attribute represents SystemVerilog attribute.
It will be transpiled to SystemVerilog attribute <code>(*  *)</code>.</p>
<pre><code class="language-veryl playground">module ModuleA {
    #[sv("ram_style=\"block\"")]
    let _a: logic&lt;10&gt; = 1;
    #[sv("mark_debug=\"true\"")]
    let _b: logic&lt;10&gt; = 1;
}
</code></pre>
<h2 id="allow-attribute"><a class="header" href="#allow-attribute"><code>allow</code> Attribute</a></h2>
<p><code>allow</code> attribute is used to disable specified lint check.</p>
<pre><code class="language-veryl playground">module ModuleA {
    #[allow(unused_variable)]
    let a: logic&lt;10&gt; = 1;
}
</code></pre>
<p>Available lint names are below:</p>
<ul>
<li><code>unused_variable</code></li>
<li><code>missing_reset_statement</code></li>
<li><code>missing_port</code></li>
</ul>
<h2 id="ifdefifndefelsifelse-attribute"><a class="header" href="#ifdefifndefelsifelse-attribute"><code>ifdef</code>/<code>ifndef</code>/<code>elsif</code>/<code>else</code> Attribute</a></h2>
<p><code>ifdef</code> and <code>ifndef</code> attributes are used to control whether the annotated code block is enabled by defined value.
In addition, the code block with <code>elsif</code> or <code>else</code> attributes is optional and a code block with <code>ifdef</code> or <code>ifndef</code> attributes can be followed with that code block.</p>
<p>The following example shows a usage of these attributes and which code blocks will be enabled according to defined values.</p>
<ul>
<li>For the sequence of <code>ifdef</code>/<code>elsif</code>/<code>else</code> attributes
<ul>
<li>If <code>DEFINE_A</code> is defined, the code block with <code>#[ifdef(DEFINE_A)]</code> (code block a) is enbaled, and code blocks with <code>#[ifndef(DEFINE_B)]</code> and <code>#[else]</code> (code block b/c) are disabled.</li>
<li>If <code>DEFINE_A</code> is not defined and <code>DEFINE_B</code> is defiend, the code block with <code>#[elsif(DEFINE_B)]</code> (code block b) is enabled, and code blocks with <code>#[ifdef(DEFINE_A)]</code> and <code>#[else]</code> (code block a/c) are disabled.</li>
<li>If <code>DEFINE_A</code> and <code>DEFINE_B</code> are not defined the code block with <code>#[else]</code> is enabled, and code blocks with <code>#[ifdef(DEFINE_A)]</code> and <code>#[elsif(DEFINE_B)]</code> (code block a/b) are disabled.</li>
</ul>
</li>
<li>For the sequence of <code>ifndef</code>/<code>else</code> attributes
<ul>
<li>If <code>DEFINE_D</code> is not defined, the code block with <code>#[ifndef(DEFINE_D)]</code> (code block d) is enabled, and the code block with <code>#[else]</code> (code block e) is disabled.</li>
<li>If <code>DEFINE_D</code> is defined, the code block with <code>#[else]</code> (code block e) is enabled, and the code block with <code>#[ifndef(DEFINE_D)]</code> (code block d) is disabled.</li>
</ul>
</li>
</ul>
<pre><code class="language-veryl playground">module ModuleA {
    #[ifdef(DEFINE_A)]
    {
        // code block a
        let _a: logic&lt;10&gt; = 1;
    }
    #[elsif(DEFINE_B)]
    {
        // code block b
        let _a: logic&lt;10&gt; = 2;
    }
    #[else]
    {
        // code block c
        let _a: logic&lt;10&gt; = 3;
    }

    #[ifndef(DEFINE_D)]
    {
        // code block d
        let _b: logic&lt;10&gt; = 4;
    }
    #[else]
    {
        // code block e
        let _b: logic&lt;10&gt; = 5;
    }
}
</code></pre>
<p>To avoid complex adjustment around trailing comma in generated code, the last item with <code>ifdef</code> in comma-separated list is forbidden.</p>
<h2 id="expand-attribute"><a class="header" href="#expand-attribute"><code>expand</code> Attribute</a></h2>
<p>If <code>expand</code> attribute is set, structured ports such as <code>modport</code> are expanded into each Verilog ports.
Synthesis tools may require that ports of the top module includes no such ports. This attribute is helpful for such case.
The following argument is supported.</p>
<ul>
<li><code>modport</code>: Expand ports of which direction is <code>modport</code></li>
</ul>
<pre><code class="language-veryl playground">interface InterfaceA::&lt;W: u32&gt; {
    var ready: logic   ;
    var valid: logic   ;
    var data : logic&lt;W&gt;;

    modport master {
        ready: input ,
        valid: output,
        data : output,
    }

    modport slave {
        ready: output,
        valid: input ,
        data : input ,
    }
}

#[expand(modport)]
module ModuleA (
    slave_if : modport InterfaceA::&lt;8&gt;::slave  [4],
    master_if: modport InterfaceA::&lt;8&gt;::master [4],
) {
    for i in 0..4 :g {
        connect slave_if[i] &lt;&gt; master_if[i];
    }
}

module ModuleB {
    inst a_if: InterfaceA::&lt;8&gt; [4];
    inst b_if: InterfaceA::&lt;8&gt; [4];

    inst u: ModuleA (
        slave_if : a_if,
        master_if: b_if,
    );
}
</code></pre>
<h2 id="align-attribute"><a class="header" href="#align-attribute"><code>align</code> Attribute</a></h2>
<p><code>align</code> attribute is used to control vertical alignment by formatter.
If <code>number</code> is specified as an argument of <code>align</code> attribute, all numbers are aligned.
<code>identifier</code> can be used too.</p>
<pre><code class="language-veryl playground">module ModuleA {
    let a  : logic&lt;32&gt; = 1;
    let aa : logic&lt;32&gt; = 1;
    let aaa: logic&lt;32&gt; = 1;

    let _b: logic = {
        a[0] repeat 1, a[0] repeat 1,
        aa[1] repeat 8, aa[1] repeat 8,
        aaa[2] repeat 16, aaa[2] repeat 16,
    };

    #[align(number, identifier)]
    let _c : logic = {
        a  [0 ] repeat 1 , a  [0 ] repeat 1 ,
        aa [1 ] repeat 8 , aa [1 ] repeat 8 ,
        aaa[2 ] repeat 16, aaa[2 ] repeat 16,
    };
}
</code></pre>
<h2 id="fmt-attribute"><a class="header" href="#fmt-attribute"><code>fmt</code> Attribute</a></h2>
<p><code>fmt</code> attribute is used to control formatiing way.
The following arguments are supported:</p>
<ul>
<li><code>compact</code>: compact formatting without newlines</li>
</ul>
<pre><code class="language-veryl playground">module ModuleA {
    #[fmt(compact)]
    {
        inst u1: $sv::Module #( A: 1, B: 2 ) ( x: 1, y: _ );
        inst u2: $sv::Module #( A: 1, B: 2 ) ( x: 1, y: _ );
        inst u3: $sv::Module #( A: 1, B: 2 ) ( x: 1, y: _ );
        inst u4: $sv::Module #( A: 1, B: 2 ) ( x: 1, y: _ );
    }
}
</code></pre>
<ul>
<li><code>skip</code>: <code>veryl fmt</code> does not format modules, interfaces and packages on which <code>fmt</code> attribute with <code>skip</code> argument is specified.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../05_language_reference/06_declaration/07_initial_final.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../05_language_reference/06_declaration/09_generate.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../05_language_reference/06_declaration/07_initial_final.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../05_language_reference/06_declaration/09_generate.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>
        <script type="module">
            import init, {build, format} from "https://doc.veryl-lang.org/playground/pkg/veryl_wasm.js";
            init().then(() => {});
            window.build = build;
        </script>

        <!-- Custom JS scripts -->
        <script src="../../mode-veryl.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../theme/language-picker.js"></script>


    </div>
    </body>
</html>
